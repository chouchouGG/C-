# 智能指针
# 智能指针与STL容器中的 `erase`
- 在STL容器中使用 `erase` 来删除智能指针元素，会默认调用智能指针所管理资源的**析构函数**，而如果是普通指针，则会造成内存泄漏。
```C++
struct A
{
  A(int i = 1) : i_(i) { cout << "constructor" << endl; }
  ~A() { cout << "destructor : " << this->i_ << endl; }

  int i_;
};

int main()
{
  /* vector 中调用 erase */
  vector<unique_ptr<A>> v;
  v.push_back(make_unique<A>(10));
  cout << "---" << endl;
  v.erase(v.begin());
  cout << "---\n" << endl;

  /* unordered_map 中调用 erase */
  unordered_map<char, unique_ptr<A>> m;
  m['a'] = make_unique<A>(20);
  cout << "---" << endl;
  m.erase('a');
  cout << "---\n" << endl;
  return 0;
}
```